<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/stylesheets/min/post-min.css">
<link rel="stylesheet" href="/stylesheets/min/dark-min.css">

<title>A Review of ungoogled-chromium Patches</title>
<h1>A Review of ungoogled-chromium Patches</h1>
<time datetime="2021-04-03">April 3, 2021</time>

<p><a href="https://github.com/eloston/ungoogled-chromium">ungoogled-chromium</a> is an often recommended browser with no connections to Google on start.

<p>However, there are a couple of concerns with this browser.
  <ul>
    <li>ungoogled-chromium lags behind upstream Chrome a few days every release.
    <li>There are no official binaries; third parties contribute prebuilt binaries.
    <li><a href="https://github.com/Eloston/ungoogled-chromium/commit/7f238719fa0a16e40559df36988aecf0082a8cf3">Control Flow Integrity is disabled by default.</a>
    <li>Documentation and links are broken.
    <li><b>The majority of the patches can be reproduced in vanilla Chromium by changing some settings.</b>
  </ul>

<h3>A look at ungoogled-chromium's patches (and how these patches can be done in Chrome):</h3>

<h4>disable-fetching-field-trials</h4>
<p>This patch disables downloading of field trials (Googleâ€™s A/B testing).

<p>- Disable with switch <code>--disable-field-trial-config</code>.

<h4>unrar, 0001-fix-building-without-safebrowsing, safe_browsing-disable-incident-reporting, safe_browsing-disable-reporting-of-safebrowsing-over, remove-unused-preferences-fields</h4>
<p>These patches disable safe browsing. Related prefs are removed in remove-unused-preferences-fields.

<p>- Disable safe browsing in chrome://settings.

<h4>0003-disable-autofill-download-manager</h4>
<p>This patch disables autofill.

<p>- Disable autofill in chrome://settings.

<h4>0005-disable-default-extensions</h4>
<p>This patch disables
  <ul>
    <li>Cast
    <li>Chrome Web Store
    <li>Feedback
    <li>Payments
    <li>PDFium
    <li>Speech
  </ul>

<p>- May be the switch <code>--disable-default-apps</code>.

<h4>0007-disable-web-resource-service</h4>
<p>This patch disables Chrome's  web resource service.
<p>ChromeWebResourceService fetches JSON data from a web server, parses it, and periodically refreshes it.

<p>- May be disabled with "Preload Pages for faster browsing and searching" in chrome://settings.

<h4>disable-google-ipv6-probes</h4>
<p>This patch disables IPv6 pings to Google servers.

<h4>0015-disable-update-pings</h4>
<p>This patch disables pings to clients2.google.com/ for extension updates.

<p>- Disable with switch <code>--disable-component-update</code>.

<h4>0017-disable-new-avatar-menu</h4>
<p>This cosmetic patch disables the new avatar menu.

<h4>0021-disable-rlz</h4>
<p>This patch disables RLZ, a promotional tag only enabled in Chrome. <a href="https://www.google.com/chrome/privacy/whitepaper.html">This non-unique tag sent is sent with Google searches and crash reports.</a>

<p>- Disable by defining <code>"rlz_disabled":true</code> in the preferences file.

<h4>all-add-trk-prefixes-to-possibly-evil-connections, block-requests, block-trk-and-subdomains, disable-webstore-urls, disable-untraceable-urls, disable-webstore-urls</h4>

<p>These patches disable every connection to Google in the browser via either prefixing trk: or appending .qjz9zk
<p>This includes
  <ul>
    <li>Documentation
    <li>NTP
    <li>Spellcheck
    <li>Updates
  </ul>

<p><a href="#lynns-switches">@lynn-stephenson has switches that one can use to replace Google URLs with.</a>

<h4>disable-crash-reporter</h4>
<p>This patch disables the uploading of crash reports to Google. <a href="https://chromium.googlesource.com/chromium/src/+/master/docs/chromium_browser_vs_google_chrome.md">Chromium does not report crashes.</a>

<p>- Disable with switch <code>--disable-crash-reporter</code>.


<h4>disable-domain-reliability</h4>
<p>This patch disables the sending of info to Google whenever an error occurs while visiting a Google domain.

<p>- Disable with switch <code>--disable-domain-reliability</code>.

<h4>disable-fonts-googleapis-references</h4>
<p>This patch disables references to fonts.googleapis.com.

<h4>disable-gaia, disable-signin</h4>
<p>These patches disable browser management of sign-in of Google Accounts. Requires API keys found only in Chrome.

<p>- Disabled with switches <code>--disable-gaia-services</code>, <code>--disable-sync</code>, <code>--allow-browser-signin=false</code>

<h4>disable-gcm</h4>
<p>This patch disables the Google Cloud Messaging component. Extensions can use the <code>chrome.gcm</code> api to send information to Google.

<h4>disable-google-host-detection</h4>
<p>This patch disables Google specific features and restrictions applied to Google domains.

<h4>disable-mei-preload</h4>
<p>This patch disables downloading of a list of sites with a high Media Engagement Index, used to determine whether or not a site autoplays.

<p>- Disable with switch <code>--disable-features=PreloadMediaEngagementData, MediaEngagementBypassAutoplayPolicies</code>

<h4>disable-network-time-tracker</h4>
<p>This patch disables connections to Google to check if the system time is correct when a website certificate date seems incorrect.

<p>- Disable with switch <code>--disable-features=NetworkTimeServiceQuerying</code>

<h4>disable-profile-avatar-downloading</h4>
<p>This patch disables the downloading of the profile avatar.

<h4>disable-webrtc-log-uploader</h4>
<p>This patch disables the uploading of WebRTC logs.

<h4>replace-google-search-engine-with-nosearch</h4>
<p>This patch replaces Google with "No Search".

<p>- Use another search engine.

<h4>toggle-translation-via-switch</h4>
<p>This patch disables translation and removes the "Translate to" context menu when <code>--translate-script-url</code> flag is not set.

<p>- Define a non-existent <code>--translate-script-url</code>.

<h4>use-local-devtools-files</h4>
<p>This patch always uses local DevTools files instead of remote files from Google.


<h4 id="lynns-switches">Lynn's Switches</h4>
<code>
--google-apis-url
--google-base-url
--google-url
...
--autofill-assistant-url
--autofill-server-url
--cloud-print-url
--connectivity-check-url
--crash-server-url
--cryptauth-http-host
--cryptauth-v2-devicesync-http-host
--cryptauth-v2-enrollment-http-host
--data-reduction-proxy-config-url
--data-reduction-proxy-pingback-url
--data-reduction-proxy-secure-proxy-check-url
--device-management-url
--disable-sync
--disable-sync-types
</code>
